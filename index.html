<!DOCTYPE html>
<html>

  <head>
    <meta charset='utf-8' />
    <meta http-equiv="X-UA-Compatible" content="chrome=1" />
    <meta name="description" content="E-learning-server : 無所不在學習架構與學習導引機制-後端伺服器" />

    <link rel="stylesheet" type="text/css" media="screen" href="stylesheets/stylesheet.css">

    <title>E-learning-server</title>
  </head>

  <body>

    <!-- HEADER -->
    <div id="header_wrap" class="outer">
        <header class="inner">
          <a id="forkme_banner" href="https://github.com/CHU-TDAP/E-learning-Server">View on GitHub</a>

          <h1 id="project_title">E-learning-server</h1>
          <h2 id="project_tagline">無所不在學習架構與學習導引機制-後端伺服器</h2>

            <section id="downloads">
              <a class="zip_download_link" href="https://github.com/CHU-TDAP/E-learning-Server/zipball/master">Download this project as a .zip file</a>
              <a class="tar_download_link" href="https://github.com/CHU-TDAP/E-learning-Server/tarball/master">Download this project as a tar.gz file</a>
            </section>
        </header>
    </div>

    <!-- MAIN CONTENT -->
    <div id="main_content_wrap" class="outer">
      <section id="main_content" class="inner">
        <h1>
<a name="%E5%BE%8C%E7%AB%AF%E4%BC%BA%E6%9C%8D%E5%99%A8" class="anchor" href="#%E5%BE%8C%E7%AB%AF%E4%BC%BA%E6%9C%8D%E5%99%A8"><span class="octicon octicon-link"></span></a>後端伺服器</h1>

<h2>
<a name="%E7%B0%A1%E4%BB%8B" class="anchor" href="#%E7%B0%A1%E4%BB%8B"><span class="octicon octicon-link"></span></a>簡介</h2>

<p>主要的東西都放在Server那邊，處理手機客戶端與伺服器資料的溝通。</p>

<p>包含每位學生的學習資料、場地狀況、學習教材。以及處理學習路徑規劃。</p>

<h2>
<a name="%E7%B3%BB%E7%B5%B1%E9%9C%80%E6%B1%82" class="anchor" href="#%E7%B3%BB%E7%B5%B1%E9%9C%80%E6%B1%82"><span class="octicon octicon-link"></span></a>系統需求</h2>

<ul>
<li>PHP5.3 以上，需要有以下Extension:

<ul>
<li>pdo_mysql</li>
<li>zip</li>
</ul>
</li>
<li>MariaDB 5.5.31 (可用MySQL)</li>
</ul><h2>
<a name="%E9%96%8B%E7%99%BC%E6%96%87%E4%BB%B6" class="anchor" href="#%E9%96%8B%E7%99%BC%E6%96%87%E4%BB%B6"><span class="octicon octicon-link"></span></a>開發文件</h2>

<p>已將整份專案使用<a href="http://www.phpdoc.org/">PHPDocumentor</a>產生出<a href="docs/apidocs/index.html">開發文件網站</a></p>

<h2>
<a name="%E6%8B%B7%E8%B2%9D%E5%B0%88%E6%A1%88" class="anchor" href="#%E6%8B%B7%E8%B2%9D%E5%B0%88%E6%A1%88"><span class="octicon octicon-link"></span></a>拷貝專案</h2>

<ol>
<li>
<p><code>$ git clone git@github.com:CHU-TDAP/E-learning-Server.git</code></p>

<pre><code>Cloning into 'E-learning-Server'...
remote: Counting objects: 2275, done.
remote: Compressing objects: 100% (820/820), done.
remote: Total 2275 (delta 1503), reused 2164 (delta 1393)
Receiving objects: 100% (2275/2275), 682.27 KiB | 89.00 KiB/s, done.
Resolving deltas: 100% (1503/1503), done.
Checking connectivity... done
</code></pre>
</li>
<li><p><code>$ cd E-learning-Server</code></p></li>
<li>
<p><code>$ git submodule init</code></p>

<pre><code>Submodule 'htdocs/Material' (git@github.com:CHU-TDAP/E-learning-material.git) registered for path 'htdocs/Material'
</code></pre>
</li>
<li>
<p><code>$ git submodule update</code></p>

<pre><code>Cloning into 'htdocs/Material'...
remote: Counting objects: 322, done.
remote: Compressing objects: 100% (261/261), done.
remote: Total 322 (delta 143), reused 220 (delta 44)
Receiving objects: 100% (322/322), 26.76 MiB | 76.00 KiB/s, done.
Resolving deltas: 100% (143/143), done.
Checking connectivity... done
Submodule path 'htdocs/Material': checked out 'aff4987f61755f0f66fe1bf382b4a3250f080344'
</code></pre>
</li>
</ol><h2>
<a name="%E6%9E%B6%E8%A8%AD%E5%88%B0%E4%BD%A0%E8%87%AA%E5%B7%B1%E7%9A%84%E4%BC%BA%E6%9C%8D%E5%99%A8" class="anchor" href="#%E6%9E%B6%E8%A8%AD%E5%88%B0%E4%BD%A0%E8%87%AA%E5%B7%B1%E7%9A%84%E4%BC%BA%E6%9C%8D%E5%99%A8"><span class="octicon octicon-link"></span></a>架設到你自己的伺服器</h2>

<h3>
<a name="apache" class="anchor" href="#apache"><span class="octicon octicon-link"></span></a>Apache</h3>

<p>編輯以下文件:</p>

<ul>
<li>ArchLinux: <code>/etc/httpd/conf/extra/httpd-vhosts.conf</code>
</li>
<li>Ubuntu: <code>/etc/apache2/sites-available/chu-elearning.conf</code>
</li>
</ul><p>加入以下內容:</p>

<pre><code># Chu E-learning Website
&lt;VirtualHost *:80&gt;
    ServerName chu-elearning.yourdomain.name
    ServerAdmin admin@yourdomain.name

    DocumentRoot /srv/http/website/chu-elearning/htdocs
    DirectoryIndex index.php index.shtml index.html
&lt;/VirtualHost&gt;
&lt;Directory /srv/http/website/chu-elearning/htdocs/&gt;
    Options FollowSymLinks MultiViews
    AllowOverride All
    Allow from All
    Order allow,deny
    Require all granted
&lt;/Directory&gt;
</code></pre>

<p>啟用本站/重新啟動伺服器:</p>

<ul>
<li>ArchLinux: <code>$ sudo systemctl restart httpd.service</code>
</li>
<li>Ubuntu:

<ol>
<li><code>$ sudo a2ensite chu-elearning</code></li>
<li><code>$ sudo /etc/init.d/apache2 restart</code></li>
</ol>
</li>
</ul><h2>
<a name="%E5%A6%82%E4%BD%95%E5%AE%89%E8%A3%9D" class="anchor" href="#%E5%A6%82%E4%BD%95%E5%AE%89%E8%A3%9D"><span class="octicon octicon-link"></span></a>如何安裝</h2>

<h3>
<a name="%E5%BC%95%E5%B0%8E%E5%BC%8F%E5%AE%89%E8%A3%9D" class="anchor" href="#%E5%BC%95%E5%B0%8E%E5%BC%8F%E5%AE%89%E8%A3%9D"><span class="octicon octicon-link"></span></a>引導式安裝</h3>

<p>安裝前請先把<code>/htdocs/config.php</code>、<code>/htdocs/config/db_config.php</code>砍掉，若之前有安裝過，請砍掉之前安裝的資料庫</p>

<ol>
<li>請先把<code>/htdocs/</code> 整個複製到你的網頁空間</li>
<li>設定你的網頁伺服器、資料夾權限，允許由網頁伺服器建立檔案（此步可略過，但安裝完後請手動建立安裝完成畫面提到的檔案）</li>
<li>打開你的瀏覽器，網址輸入 http://你的網站/install/ 進行安裝，接下來就按照畫面的提示去做</li>
<li>安裝完後，為了增加安全性，請刪除<code>/htdocs/install/</code>整個資料夾。</li>
</ol><h3>
<a name="%E6%89%8B%E5%8B%95%E5%AE%89%E8%A3%9D" class="anchor" href="#%E6%89%8B%E5%8B%95%E5%AE%89%E8%A3%9D"><span class="octicon octicon-link"></span></a>手動安裝</h3>

<ol>
<li>請先把 <code>/htdocs/</code> 整個複製到你的網頁空間</li>
<li>將內附的 <code>chu-elearn.sql</code> 匯入進你的資料庫</li>
<li>將 <code>/sample_config/htdocs/config.php</code> 檔案挪到 <code>/htdocs/config.php</code> ，並依你的需求修改。</li>
<li>將 <code>/sample_config/htdocs/config/db_config.php</code> 檔案挪到 <code>/htdocs/config/db_config.php</code> 檔案，並依你的資料庫狀況修改。</li>
</ol><h2>
<a name="%E6%9C%AC%E7%AB%99%E6%8E%A1%E7%94%A8%E7%9A%84framework" class="anchor" href="#%E6%9C%AC%E7%AB%99%E6%8E%A1%E7%94%A8%E7%9A%84framework"><span class="octicon octicon-link"></span></a>本站採用的Framework</h2>

<h3>
<a name="%E7%B6%B2%E9%A0%81%E5%89%8D%E7%AB%AF%E5%90%AB%E5%BE%8C%E5%8F%B0%E7%AE%A1%E7%90%86%E4%BB%8B%E9%9D%A2" class="anchor" href="#%E7%B6%B2%E9%A0%81%E5%89%8D%E7%AB%AF%E5%90%AB%E5%BE%8C%E5%8F%B0%E7%AE%A1%E7%90%86%E4%BB%8B%E9%9D%A2"><span class="octicon octicon-link"></span></a>網頁前端（含後台管理介面）</h3>

<ul>
<li>Bootstrap Version 2.3.2</li>
<li>JQuery v1.10.2</li>
</ul><h2>
<a name="%E4%BF%AE%E6%94%B9%E7%B4%80%E9%8C%84" class="anchor" href="#%E4%BF%AE%E6%94%B9%E7%B4%80%E9%8C%84"><span class="octicon octicon-link"></span></a>修改紀錄</h2>

<ul>
<li>2013.11.25

<ul>
<li>新增教材打包下載的功能</li>
</ul>
</li>
<li>2013.11.9

<ul>
<li>更改API輸出ID: logincode -&gt; ucode</li>
</ul>
</li>
<li>2013.10.1

<ul>
<li>API架構調整</li>
</ul>
</li>
<li>2013.9.16

<ul>
<li>
<strong>架構調整:</strong> 使用者類別的更改密碼功能拿掉確認密碼的驗證（lib是內部用的函式庫，確認密碼判斷應在界面部份就判斷好）</li>
<li>使用者管理頁面功能實作</li>
</ul>
</li>
<li>2013.9.11

<ul>
<li>
<strong>架構調整:</strong> 拆分成User, MyUser類別，主要差別是一個是輸入使用者名稱，另一個是輸入登入碼</li>
</ul>
</li>
<li>2013.9.4

<ul>
<li>add 網站管理功能</li>
</ul>
</li>
<li>2013.8.27

<ul>
<li>add 更改使用者至某使用者群組</li>
<li>lib/function/user.php 函式庫再細分成user_admin.php</li>
<li>新增網站更新按鈕</li>
</ul>
</li>
<li>2013.8.26

<ul>
<li>(規劃調整) <strong>將htdoc/lib/ 裡的所有檔案，再次細分成function, class這兩個子資料夾</strong>
</li>
</ul>
</li>
<li>2013.8.21

<ul>
<li>網頁部份的模組化通知類別</li>
<li>改變資料庫密碼長度（改為40），以及新增SHA1, CRYPT加密方式</li>
<li>修正install在Windows下的編碼問題，並將config.php設定檔挪出</li>
</ul>
</li>
<li>2013.8.20

<ul>
<li>後端伺服器的所有資料表及欄位名稱都加上"chu"字首，新稱"使用者實體"裡的屬性欄位</li>
<li>後端伺服器的所有欄位名稱都去掉"chu"字首（不然會增加操作SQL的麻煩）</li>
<li><strong>後端伺服器資料庫的使用者按照當天討論的結果修改，並將所有對應的函式庫、網頁整合</strong></li>
</ul>
</li>
<li>2013.8.18

<ul>
<li>使用者群組清單</li>
</ul>
</li>
<li>2013.8.14

<ul>
<li>將原本使用的mysql專用函式，全部由PDO取代，** 不再使用mysql專用函式 **</li>
<li>更名admin/* 所有使用者帳號相關網頁: account-&gt;user</li>
<li>新增使用者管理網頁美化</li>
</ul>
</li>
<li>2013.8.12

<ul>
<li>Table Name : student 改成 user, 按照ER圖設計</li>
</ul>
</li>
<li>2013.8.8

<ul>
<li>修改SQL檔成專題的後端資料庫，基本上是從第25行開始全部改掉了</li>
</ul>
</li>
<li>2013.8.2

<ul>
<li>
<strong>架構調整: 利用登入碼針對此帳號操作獨立成User類別</strong>，原<code>lib/user.php</code>裡利用登入碼操作的函式將逐漸被User類別取代</li>
<li><strong>對此使用者（登入碼）的資料庫操作，移到<code>lib/sql.php</code></strong></li>
<li><strong>更改資料庫users資料表欄位: name-&gt;realname</strong></li>
<li>User類別: 實作多個函式</li>
</ul>
</li>
<li>2013.8.1

<ul>
<li>改名為<code>assets/js/jquery.min.js</code>，並將所有網頁有用到jquery的更改對應路徑</li>
<li>
<strong>資料庫調整: 更改users欄位名稱group-&gt;user_uroup</strong> (因為會和MySQL的保留字衝到)</li>
<li>userGroup: 新增 建立群組 函式功能</li>
<li><strong>架構調整: 將lib/user.php的使用者群組相關移出成lib/userGroup.php，並修改相對應的函式名稱</strong></li>
<li>完成系統安裝流程: 可進入<code>htdocs/install/install.php</code>進行安裝</li>
</ul>
</li>
<li>2013.7.31

<ul>
<li><strong>(有調整user api函式)新增使用者群組功能</strong></li>
</ul>
</li>
<li>2013.7.27

<ul>
<li>使用者帳號建立功能</li>
</ul>
</li>
<li>2013.7.26

<ul>
<li>README.md: 加入"如何安裝"</li>
<li>建立後台管理介面！（使用Bootstrap套版）</li>
<li>後台管理介面- 使用者列表</li>
</ul>
</li>
<li>2013.7.25

<ul>
<li><strong>更改users資料表的欄位登入碼為<code>login_code</code></strong></li>
<li>完成登入、登出函式</li>
<li>修正加密函式（避免和HTML、PHP字元衝到）</li>
</ul>
</li>
<li>2013.7.24

<ul>
<li>架構調整</li>
<li>做出測試用的account_list.php網頁</li>
<li>加密函式（目前只提供MD5）</li>
</ul>
</li>
<li>2013.7.23

<ul>
<li>架構調整</li>
<li>建立Git repository</li>
</ul>
</li>
<li>更久以前...

<ul>
<li>建立初步架構</li>
</ul>
</li>
</ul><h2>
<a name="%E9%83%A8%E4%BB%BD%E8%B3%87%E6%BA%90%E4%BE%86%E6%BA%90" class="anchor" href="#%E9%83%A8%E4%BB%BD%E8%B3%87%E6%BA%90%E4%BE%86%E6%BA%90"><span class="octicon octicon-link"></span></a>部份資源來源</h2>

<ul>
<li>/htdocs/lib/password.php 的<code>generatorText($password_len)</code>函式

<ul>
<li>原作者: <a href="http://about.me/tsung">Tsung-Hao Lee</a>
</li>
<li>來源: <a href="http://blog.longwin.com.tw/2007/08/php_function_gen_password_2007/">http://blog.longwin.com.tw/2007/08/php_function_gen_password_2007/</a><br>
</li>
</ul>
</li>
<li>網站介面套版 Bootstrap

<ul>
<li>網站: <a href="http://twitter.github.io/bootstrap/index.html">http://twitter.github.io/bootstrap/index.html</a>
</li>
<li>Github: <a href="http://github.com/twitter/bootstrap">http://github.com/twitter/bootstrap</a>
</li>
</ul>
</li>
<li>JQuery

<ul>
<li>網站: <a href="http://jquery.com/">http://jquery.com/</a>
</li>
<li>Github: <a href="http://github.com/jquery/jquery">http://github.com/jquery/jquery</a>
</li>
</ul>
</li>
</ul><h2>
<a name="%E9%97%9C%E6%96%BC" class="anchor" href="#%E9%97%9C%E6%96%BC"><span class="octicon octicon-link"></span></a>關於</h2>

<ul>
<li>主要連結 <a href="https://github.com/organizations/CHU-TDAP">https://github.com/organizations/CHU-TDAP</a> </li>
</ul>
      </section>
    </div>

    <!-- FOOTER  -->
    <div id="footer_wrap" class="outer">
      <footer class="inner">
        <p class="copyright">E-learning-server maintained by <a href="https://github.com/CHU-TDAP">CHU-TDAP</a></p>
        <p>Published with <a href="http://pages.github.com">GitHub Pages</a></p>
      </footer>
    </div>

    

  </body>
</html>
